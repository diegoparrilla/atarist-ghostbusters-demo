	MOVE.L A7,A5
	MOVE SR,MASC
	MOVE.L A7,STACK
	MOVE.L 4(A5),A5
	MOVE.L $C(A5),D0
	ADD.L $14(A5),D0
	ADD.L $1C(A5),D0
	ADD.L #$100,D0
	MOVE.L D0,-(A7)
	MOVE.L A5,-(A7)
	MOVE.W #0,-(A7)
	MOVE.W #$4A,-(A7)
	TRAP #$01
	ADD.L #12,A7

	DC.W $A00A
	MOVE.W #$2,-(A7)
	PEA NOMBRE1
	MOVE.W #$3D,-(A7)
	TRAP #$01
	ADDQ.L #8,A7
	MOVE.L #GRAF,-(A7)
	MOVE.L #3776,-(A7)
	MOVE.W D0,-(A7)
	MOVE.W D0,HANDLE
	MOVE.W #$3F,-(A7)
	TRAP #$01
	ADD.L #12,A7
	MOVE.W HANDLE,-(A7)
	MOVE.W #$3E,-(A7)
	TRAP #$01
	ADDQ.L #4,A7

	MOVE.W #$2,-(A7)
	PEA NOMBRE2
	MOVE.W #$3D,-(A7)
	TRAP #$01
	ADDQ.L #8,A7
	MOVE.L #LOADPAN,-(A7)
	MOVE.L #$7d80,-(A7)
	MOVE.W D0,-(A7)
	MOVE.W D0,HANDLE
	MOVE.W #$3F,-(A7)
	TRAP #$01
	ADD.L #12,A7
	MOVE.W HANDLE,-(A7)
	MOVE.W #$3E,-(A7)
	TRAP #$01
	ADDQ.L #4,A7

	MOVE.W #$2,-(A7)
	PEA NOMBRE3
	MOVE.W #$3D,-(A7)
	TRAP #$01
	ADDQ.L #8,A7
	MOVE.L #GRAF+3776,-(A7)
	MOVE.L #648,-(A7)
	MOVE.W D0,-(A7)
	MOVE.W D0,HANDLE
	MOVE.W #$3F,-(A7)
	TRAP #$01
	ADD.L #12,A7
	MOVE.W HANDLE,-(A7)
	MOVE.W #$3E,-(A7)
	TRAP #$01
	ADDQ.L #4,A7

	MOVE.W #$2,-(A7)
	PEA NOMBRE4
	MOVE.W #$3D,-(A7)
	TRAP #$01
	ADDQ.L #8,A7
	MOVE.L #DIRCANR,-(A7)
	MOVE.L #$AB0,-(A7)
	MOVE.W D0,-(A7)
	MOVE.W D0,HANDLE
	MOVE.W #$3F,-(A7)
	TRAP #$01
	ADD.L #12,A7
	MOVE.W HANDLE,-(A7)
	MOVE.W #$3E,-(A7)
	TRAP #$01
	ADDQ.L #4,A7

	MOVE.L #$78000,A7
	CLR.L -(A7)
	MOVE.W #$20,-(A7)
	TRAP #$01
	ADDQ.L #$6,A7

	MOVE.W #4,-(A7)
	TRAP #$0E
	ADDQ.L #2,A7
	MOVE.W D0,RESOL

	MOVE.W #2,-(A7)
	TRAP #$0E
	ADDQ.L #2,A7
	MOVE.L D0,BASDEF

	CLR.W -(A7)
	MOVE.L DIRBASE,-(A7)
	MOVE.L DIRBASE,-(A7)
	MOVE.W #5,-(A7)
	TRAP #$0E
	ADD.L #12,A7

	MOVE.L #$FFFF8240,A0
	MOVE.L #PALETA,A1
	MOVE.W #7,D0
OOP	MOVE.L (A0),(A1)+
	CLR.L (A0)+
	DBF D0,OOP

	

	MOVE.L #DIRCANR,A0
	MOVE.L #$729F2,A1	
	MOVE.W #$AAF,D0
DOOP	MOVE.B (A0),(A1)+
	CLR.B (A0)+
	DBF D0,DOOP

	MOVE.L #DIRCANR,A1
	MOVE.L #DIRCAN,A0
	MOVE.W #161,D0
PONGRA	MOVE.L (A0)+,(A1)+
	CLR.W (A1)+
	DBF D0,PONGRA

	MOVE.L #LOADPAN+$4,A0
	MOVE.L #VACIO,A1
	MOVE.W #7,D0
OOP2	MOVE.L (A0)+,(A1)+
	DBF D0,OOP2

	MOVE.L #LOADPAN+$80,A0
	MOVE.L DIRBASE,A1
	MOVE.W #$1F3F,D0
SSSS	MOVE.L (A0)+,(A1)+
	DBF D0,SSSS

	BSR COPY
	MOVE.L #$78000,A0
	MOVE.W #$1F3F,D0
SSSSS	CLR.L (A0)+
	DBF D0,SSSSS

	BSR SAVTIM
	BSR ROTCAN
	BSR MOVEST

	MOVE.L #BUFSAV,A5
	MOVE.L #DIRBOT,A6
	MOVE.L #DIRCANR,A1
	BSR SPR	

	MOVE.L #DIRBOT+32,A6
	MOVE.L #DIRCANR+$A2,A1
	BSR SPR

	MOVE.L #DIRBOT+64,A6
	MOVE.L #DIRCANR+$144,A1
	BSR SPR

	MOVE.L #DIRBOT+96,A6
	MOVE.L #DIRCANR+$A2,A1
	BSR SPR

	MOVE.L #DIRBOT+128,A6
	MOVE.L #DIRCANR+$1E6,A1
	BSR SPR

	MOVE.L #DIRBOT+192,A6
	MOVE.L #DIRCANR+$288,A1
	BSR SPR
	
	MOVE.L #DIRBOT+224,A6
	MOVE.L #DIRCANR+$32A,A1
	BSR SPR

	MOVE.L #VACIO,-(A7)
	MOVE.W #6,-(A7)
	TRAP #$0E
	ADD.L #6,A7

	MOVE.W #$4275,$72A1A
	JSR $729FE

	CLR.W COLORIN
	MOVE.L #DETRAS,DETCOL
	MOVE.L #INTER,$70

	MOVE.L #LISTA,EFECT

ESPE	MOVE.B $FFFFFC02,VALTE
	BSR COPIA
	MOVE.B VALTE,D0
	CMP.B $FFFFFC02,D0
	BEQ.S ESPE
	MOVE.L VEC70,$70
	MOVE.L VECKM,$118
	MOVE.B GUARDB,$FFFFFA07
	MOVE.B GUARDC,$FFFFFA09
	MOVE.B GUARDMB,$FFFFFA13
	MOVE.B TIMB,$FFFFFA1B
	MOVE.L TIMERB,$120
	CLR.L $4D2

	MOVE.L #PALETA,-(A7)
	MOVE.W #$6,-(A7)
	TRAP #$0E
	ADDQ.L #2,A7

	MOVE.W RESOL,-(A7)
	MOVE.L BASDEF,-(A7)
	MOVE.L BASDEF,-(A7)
	MOVE.W #5,-(A7)
	TRAP #$0E
	ADD.L #12,A7

	LEA PSG,A0
REGIS1	MOVE.W (A0)+,D0
	BMI.S LPLP
	MOVE.B D0,BUF1
	MOVE.W (A0)+,D0
	MOVE.B D0,BUF1+2
	BSR INPSG
	BRA.S REGIS1

INPSG	MOVE.B BUF1,D1
	CMPI.B #7,D1
	BNE PROPSG
	MOVE.B D1,$FFFF8800
	MOVE.B $FFFF8800,D2
	ANDI.B #$C0,D2
	OR.B BUF1+2,D2
	MOVE.B D2,$FFFF8802
	RTS

PROPSG	MOVE.B BUF1,$FFFF8800
	MOVE.B BUF1+2,$FFFF8802
	RTS

LPLP
	MOVE MASC,SR

	MOVE.L STACK,A7
	
	CLR.W -(A7)
	TRAP #$01
	

INTER	
	CLR.B $FFFFFA1b
	MOVE.B #166,$FFFFFA21
	MOVE.B  #$8,$FFFFFA1b
	MOVEM.L D0-D7/A0-A6,-(A7)
	MOVE.L #DATFON,FONDCOL
	MOVE.L FONDCOL,A1
	MOVE.W (A1),FONDO
	MOVE.L #LETCOL,TINTCOL
	MOVE.L TINTCOL,A1
	MOVE.W (A1),TINTA
	MOVE.L DETCOL,A1
	TST.W COLEST
	BNE.S PUESNO
	ADDQ.L #2,A1
	CMP.W #$FFF,(A1)
	BNE.S PSIGUE
	MOVE.L #DETRAS,A1
PSIGUE	MOVE.L A1,DETCOL
PUESNO	
	MOVE.W (A1),D0
	SWAP D0
	MOVE.W (A1),D0
	MOVE.L D0,$FFFF8250
	MOVE.L D0,$FFFF8254
	MOVE.L D0,$FFFF8258
	MOVE.L D0,$FFFF825C
	ADDQ.W #1,COLEST
	ANDI.W #7,COLEST

	MOVE.L #LETCOL,A0
	MOVE.L (A0),D1
	MOVE.W #33,D0
ETR1	MOVE.W $2(A0),(A0)+
	DBF D0,ETR1
	MOVE.W D1,(A0)

	MOVE.L #DATFON+64,A0
	MOVE.L $0(A0),D1
	MOVE.W #32,D0
ETR2	MOVE.W (A0),$2(A0)
	SUBQ.L #2,A0
	DBF D0,ETR2
	MOVE.W D1,$2(A0)


	BSR RECFON
	BSR RECEST
	BSR MOVEST


	MOVE.L #BUFSAV,A5
	MOVE.L #DIRBOT,A6
	MOVE.L #DIRCANR,A1
	BSR SPR	

	MOVE.L #DIRBOT+32,A6
	MOVE.L #DIRCANR+$A2,A1
	BSR SPR

	MOVE.L #DIRBOT+64,A6
	MOVE.L #DIRCANR+$144,A1
	BSR SPR

	MOVE.L #DIRBOT+96,A6
	MOVE.L #DIRCANR+$A2,A1
	BSR SPR

	MOVE.L #DIRBOT+128,A6
	MOVE.L #DIRCANR+$1E6,A1
	BSR SPR

	MOVE.L #DIRBOT+192,A6
	MOVE.L #DIRCANR+$288,A1
	BSR SPR
	
	MOVE.L #DIRBOT+224,A6
	MOVE.L #DIRCANR+$32A,A1
	BSR SPR
	
	BSR HAZSCRL
	
	BSR DETEC

	MOVEM.L (A7)+,D0-D7/A0-A6
SALVBL	JMP $00000

DETEC	CMP.B #146,EJEX
	BNE.S DETEC2
	MOVE.B #$1,DECX
	CLR.B INCX
	BRA.S DETEC3
DETEC2	CMP.B #0,EJEX
	BNE.S DETEC3
	MOVE.B #$1,INCX
	CLR.B DECX
	BRA.S DETEC4
DETEC3	CMP.B #28,EJEY
	BNE.S DETEC4
	MOVE.B #$2,INCY
	CLR.B DECY
	BRA.S DETEC6
DETEC4	CMP.B #138,EJEY
	BNE.S DETEC6
	MOVE.B #$2,DECY
	CLR.B INCY
DETEC6	
	MOVE.B INCX,D0
	MOVE.B DECX,D1
	MOVE.B INCY,D2
	MOVE.B DECY,D3

	ADD.B D0,EJEX
	SUB.B D1,EJEX
	ADD.B D2,EJEY
	SUB.B D3,EJEY
	
	LEA DIRBOT,A0
	MOVE.W #111,D0
DETEC7	MOVE.W $2(A0),(A0)+
	DBF D0,DETEC7
	MOVE.B EJEX,(A0)+
	MOVE.B EJEY,(A0)+
	RTS

INISCRO	MOVE.L #TEXTO,CHARACT
	CLR.W BITSCR
	RTS

HAZSCRL	MOVE.L CHARACT,A0
	TST.W (BITSCR)
	BNE ROTAIZ
	MOVE.B (A0)+,D0
	MOVE.L A0,CHARACT
	SUB.B #32,D0
	ANDI.L #$7F,D0

	CMP.B #65,D0
	BNE.S SIGAQ
	TST.B GRNDE
	BEQ.S HAZGRA
	CLR.B GRNDE
	BRA CASA
HAZGRA	MOVE.B #1,GRNDE
	BRA CASA

SIGAQ	CMP.B #66,D0
	BNE.S SIGAQ2
	TST.B ONDA
	BEQ.S HAZONDA
	CLR.B ONDA
	BRA CASA
HAZONDA	MOVE.B #1,ONDA
	BRA CASA

SIGAQ2	CMPI.B #64,D0
	BNE.S SIHAZSC
	BSR INISCRO
	CLR.W D0

SIHAZSC	MULU #64,D0
	MOVE.L #GRAF,A1
	ADD.L D0,A1
	MOVE.L #BUFTIR1,A0
	MOVEQ.L #3,D7
HAS	MOVE.L (A1)+,(A0)+
	MOVE.L (A1)+,(A0)+
	MOVE.L (A1)+,(A0)+
	MOVE.L (A1)+,(A0)+
	DBF D7,HAS

ROTAIZ	MOVE.L DIRBASE,A0
	MOVE.L #BUFTIR1,A2
	ADD.L #$6906,A0
	
	TST.B ONDA
	BNE OLAS

	TST.B GRNDE
	BNE.S DLOL
	ADD.L #$500,A0 
	
DLOL	MOVE.W #15,D0
RO1	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	ADDQ.L #$8,A0
	MOVE.B $0(A0),-$7(A0)
	MOVE.B $1(A0),$0(A0)

	MOVE.B (A2),$1(A0)
	MOVE.B $1(A2),$0(A2)
	MOVE.B $2(A2),$1(A2)
	MOVE.B $3(A2),$2(A2)
	CLR.B $3(A2)
	ADDQ.L #4,A2

	TST.B GRNDE
	BEQ SISCRO
	SUB.L #152,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0

	MOVE.W (A0),$A0(A0)
	ADDQ.L #8,A0
	
	ADD.L #152,A0

SISCRO	ADDQ.L #8,A0
	DBF D0,RO1

	ADDQ.W #1,BITSCR
	AND.W #3,BITSCR
CASA	RTS

OLAS	MOVE.W #15,D0
RO2	
	MOVE.B $1(A0),$0(A0)
	MOVE.B $A8(A0),$1(A0)
	MOVE.B $1E9(A0),$A8(A0)
	MOVE.B $330(A0),$1E9(A0)
	MOVE.B $511(A0),$330(A0)
	MOVE.B $658(A0),$511(A0)
	MOVE.B $799(A0),$658(A0)
	MOVE.B $8E0(A0),$799(A0)
	MOVE.B $981(A0),$8E0(A0)
	MOVE.B $988(A0),$981(A0)
	MOVE.B $8E9(A0),$988(A0)
	MOVE.B $850(A0),$8E9(A0)
	MOVE.B $711(A0),$850(A0)
	MOVE.B $5D8(A0),$711(A0)
	MOVE.B $499(A0),$5D8(A0)
	MOVE.B $360(A0),$499(A0)
	MOVE.B $221(A0),$360(A0)
	MOVE.B $E8(A0),$221(A0)
	MOVE.B $49(A0),$E8(A0)
	MOVE.B $50(A0),$49(A0)
	
	ADD.L #$50,A0

	MOVE.B $1(A0),$0(A0)
	MOVE.B $A8(A0),$1(A0)
	MOVE.B $1E9(A0),$A8(A0)
	MOVE.B $330(A0),$1E9(A0)
	MOVE.B $511(A0),$330(A0)
	MOVE.B $658(A0),$511(A0)
	MOVE.B $799(A0),$658(A0)
	MOVE.B $8E0(A0),$799(A0)
	MOVE.B $981(A0),$8E0(A0)
	MOVE.B $988(A0),$981(A0)
	MOVE.B $8E9(A0),$988(A0)
	MOVE.B $850(A0),$8E9(A0)
	MOVE.B $711(A0),$850(A0)
	MOVE.B $5D8(A0),$711(A0)
	MOVE.B $499(A0),$5D8(A0)
	MOVE.B $360(A0),$499(A0)
	MOVE.B $221(A0),$360(A0)
	MOVE.B $E8(A0),$221(A0)
	MOVE.B $49(A0),$E8(A0)

	MOVE.B (A2),$49(A0)
	MOVE.B $1(A2),$0(A2)
	MOVE.B $2(A2),$1(A2)
	MOVE.B $3(A2),$2(A2)
	CLR.B $3(A2)
	ADDQ.L #4,A2

	ADD.L #$50,A0
	DBF D0,RO2

	ADDQ.W #1,BITSCR
	AND.W #3,BITSCR
	RTS

SAVTIM	
	MOVE.L $70,SALVBL+2
	MOVE.L $118,SALKM+2
	MOVE.L $70,VEC70
	MOVE.L $118,VECKM
	MOVE.L #KM,$118
	MOVE.B $FFFFFA07,GUARDB
	MOVE.B $FFFFFA09,GUARDC
	MOVE.B $FFFFFA13,GUARDMB
	MOVE.B $FFFFFA1B,TIMB
	MOVE.L $120,TIMERB
	MOVE.L #SEGINT,$120
	ANDI.B #$DF,$FFFFFA07
	ANDI.B #$CF,$FFFFFA09
	OR.B #1,$FFFFFA07
	OR.B #1,$FFFFFA13
	RTS

KM	MOVE.W #$2700,SR
SALKM	JMP $000000

	
SEGINT	
	MOVE.W FONDO,$FFFF8240
	CLR.B $FFFFFA1B
	MOVE.B #1,$FFFFFA21
	MOVE.B #8,$FFFFFA1B
	MOVEM.L D0/A0,-(A7)
	MOVE.L TINTCOL,A0
	MOVE.W (A0),D0
	SWAP D0
	MOVE.W (A0),D0
	MOVE.L #$FFFF8250,A0
	MOVE.L D0,(A0)+
	MOVE.L D0,(A0)+
	MOVE.L D0,(A0)+
	MOVE.L D0,(A0)+
	ADDQ.L #2,TINTCOL
	ADDQ.L #2,FONDCOL
	MOVE.L FONDCOL,A0
	MOVE.W (A0),FONDO
	MOVEM.L (A7)+,D0/A0
	ADDQ.W #1,COLORIN
	CMP.W #34,COLORIN
	BEQ.S SICERO
	BCLR #0,$FFFFFA0F
	RTE

SICERO	CLR.W COLORIN
	CLR.B $FFFFFA1B
	CLR.W $FFFF8240
	BCLR #0,$FFFFFA0F
	RTE


MOVEST	LEA STATIR,A3
	LEA STADAT,A0
	MOVE.L DIRBASE,A1
	ADD.L #6,A1
	MOVE.W #19,D0
MOVEST1	MOVE.L A1,A2
	MOVE.B (A0)+,D1
	MOVE.B (A0)+,D2
	ADD.B D1,D2
	CMP.B #159,D2
	BHI SIMAY
MOVEST2	MOVE.B D2,-$2(A0)
	ANDI.L #$FF,D2
	DIVU #8,D2
	MOVE.L D2,D1
	SWAP D1
	ANDI.L #$FF,D1
	ANDI.L #$FF,D2
	MULU #8,D2
	ADD.L D2,A2
	MOVE.W #$C000,D2
	TST.B D1
	BEQ.S PAR
	ADD.B D1,D1
	LSR.W D1,D2
PAR	MOVE.W (A2),D3
	MOVE.L -$6(A2),D1
	ADD.W -$2(A2),D1
	TST.L D1
	BNE.S NOIMPR
	OR.W D2,(A2)
NOIMPR	MOVE.W D3,(A3)+
	MOVE.L A2,(A3)+
	ADD.L #$500,A1
	DBF D0,MOVEST1
	RTS

SIMAY	CLR.B D2
	MOVE.L A0,D3
	ADD.L A1,D3
	ADD.L A2,D3
	ADD.L A3,D3
	ADD.L A4,D3
	ADD.L D0,D3
	ADD.L D1,D3
	ADD.L $466,D3
	ANDI.L #3,D3
	ADDQ.B #1,D3
	MOVE.B D3,-$1(A0)
	BRA.S MOVEST2

RECEST	LEA STATIR,A3
	MOVE.W #19,D0
RECEST1	MOVE.W (A3)+,D1
	MOVE.L (A3)+,A1
	MOVE.W D1,(A1)
	DBF D0,RECEST1
	RTS

COPIA	MOVE.L #PANTA,A0
	MOVE.L #$7A508,A1
	MOVE.L #TABLA,A3
	MOVE.W #140,D6
	MOVE.L EFECT,A2
COPIA1
	CMP.L #FINAL,A2
	ADD.L PASO,A2
	BLT.S ALE
	MOVE.L #LISTA,A2
ALE
	MOVE.W (A2)+,D0
	ANDI.L #$FF,D0
	CMP.L #$FF,D0
	BNE.S VENGA
	ADD.L #4,A2
	BRA.S COPIA1

VENGA	MULU #4,D0
	MOVE.L $0(A3,D0.L),A4
	ADD.L A0,A4

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADDQ.L #2,A1

	MOVE.L (A4)+,(A1)+
	MOVE.W (A4)+,(A1)+
	ADD.L #82,A1
	ADD.L #60,A0

	DBF D6,COPIA1
	ADDQ.L #2,EFECT
	MOVE.L EFECT,A2
	MOVE.W (A2)+,D0
	CMP.W #$FF,D0
	BNE SALBUC
	MOVE.L (A2)+,PASO
	MOVE.L A2,EFECT

SALBUC	MOVE.L PASO,D0
	ADD.L D0,EFECT

	CMP.L #FINAL,EFECT
	BLT.S SAL
	MOVE.L #LISTA,EFECT
SAL	RTS

ROTCAN	MOVE.L #DIRCANR+972,A1
	MOVEQ #1,D7
	MOVE.W #14,D0
ROTCAN1	MOVE.L #DIRCANR,A0
	MOVE.W #161,D1
ROTCAN2	
	CLR.L $0(A1)
	CLR.L $4(A1)
	MOVE.W (A0)+,D2
	SWAP D2
	CLR.W D2
	LSR.L D7,D2
	MOVE.W (A0)+,D3
	SWAP D3
	CLR.W D3
	LSR.L D7,D3
	MOVE.L D2,$0(A1)
	OR.L D3,$2(A1)
	ADDQ.L #6,A1
	ADDQ.L #2,A0
	DBF D1,ROTCAN2
	ADDQ.W #1,D7
	DBF D0,ROTCAN1
	RTS

SPR	MOVE.B (A6)+,D0
	MOVE.B (A6)+,D1
	ANDI.L #$FF,D0
	MULU #2,D0

IMPSPR		;A1 ->DIRECCION LETRA BASE
		;A5 ->DIRECCION BUFFER DIRECCIONES
		;D0 ->(0-319) EJE X
		;D1 ->(0-199) EJE Y

	ANDI.L #$FF,D1
	MULU #160,D1
	MOVE.L D1,A0
	ADD.L DIRBASE,A0
	ADDQ.L #$6,A0
	DIVU #16,D0
	SWAP D0
	MOVE.W D0,D1
	CLR.W D0
	SWAP D0
	MULU #8,D0
	ANDI.L #$FFFF,D0
	ADD.L D0,A0
	MULU #972,D1
	ANDI.L #$FFFF,D1
	ADD.L D1,A1
	MOVE.L A0,(A5)+
	MOVE.W #26,D0
IMPSPR1	MOVE.W (A1)+,D1
	OR.W D1,$0(A0)
	MOVE.W (A1)+,D1
	OR.W D1,$8(A0)
	MOVE.W (A1)+,D1
	OR.W D1,$10(A0)
	ADD.L #160,A0
	DBF D0,IMPSPR1
	RTS

RECFON	LEA BUFSAV,A5
	MOVE.W #6,D0
RECONF1	MOVE.L (A5)+,A0
	MOVE.W #26,D1
RECONF2	CLR.W $0(A0)
	CLR.W $8(A0)
	CLR.W $10(A0)
	ADD.L #160,A0
	DBF D1,RECONF2
	DBF D0,RECONF1
	RTS

COPY	MOVE.L #PANTA,A6
	MOVE.W #15,D7
COPY1	
	BSR SCROLL

	MOVE.L #$7A508,A1
	MOVE.W #140,D6
COPY2	
	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADDQ.L #2,A1

	MOVE.L (A1)+,(A6)+
	MOVE.W (A1)+,(A6)+
	ADD.L #82,A1

	DBF D6,COPY2
	DBF D7,COPY1
	RTS

SCROLL	MOVE.W #199,D1
	MOVE.L #$78000,A1
LOPER	
	MOVE.L A1,A0

	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	ADDQ.L #8,A0

	MOVE.W #18,D6
PLAN1	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	CLR.W D0
	OR.L D0,-$8(A0)
	ADDQ.L #8,A0
	DBF D6,PLAN1

	MOVE.L A1,A0
	ADDQ.L #2,A0

	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	ADDQ.L #8,A0

	MOVE.W #18,D6
PLAN2	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	CLR.W D0
	OR.L D0,-$8(A0)
	ADDQ.L #8,A0
	DBF D6,PLAN2
	
	MOVE.L A1,A0
	ADDQ.L #4,A0

	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	ADDQ.L #8,A0

	MOVE.W #18,D6
PLAN3	MOVEQ #0,D0
	MOVE.W (A0),D0
	LSL.L #$1,D0
	MOVE.W D0,(A0)
	CLR.W D0
	OR.L D0,-$8(A0)
	ADDQ.L #8,A0
	DBF D6,PLAN3
	ADD.L #160,A1

	DBF D1,LOPER

	RTS


DIRBASE	DC.L $78000
VACIO	DS.L $8
PALETA	DS.L $8
BUF1	DC.L 0,0,0,0
BASDEF	DC.L 0
PASO	DC.L 0
EFECT	DC.L 0
CHARACT	DC.L 0
TIRCOL	DC.L 0
COLOR	DC.L 0
FONDCOL	DC.L 0
FONDO	DC.L 0
TINTCOL	DC.L 0
TINTA	DC.L 0
DETCOL	DC.L 0
LISBACK	DC.L 0
TIMERB	DC.L 0
VEC70	DC.L 0
VECKM	DC.L 0
STACK	DC.L 0
MASC	DC.L 0
COLORIN	DC.W 0
COLEST	DC.W 0
BACK	DC.W 0
PUNTO	DC.W 0
HANDLE	DC.W 0
RESOL	DC.W 0
BITSCR	DC.W 0
GRNDE	DC.B 0
ONDA	DC.B 0
GUARDB	DC.B 0
GUARDC	DC.B 0
GUARDMB	DC.B 0
TIMB	DC.B 0
EJEX	DC.B 0
EJEY	DC.B 28
INCX	DC.B 0
INCY	DC.B 0
DECX	DC.B 0
DECY	DC.B 0
VALTE	DC.B 0
NOMBRE4	DC.B "MUSICA.DAT",0
NOMBRE3	DC.B "CANAL23.DAT",0
NOMBRE2	DC.B "DIEGO.NEO",0
NOMBRE1	DC.B "thundfo2.DAT",0

TEXTO	DC.B "                      BIENVENIDOS A LA NUEVA INTRO DEL"
	DC.B "          a- CANAL 23 -           abY SI,HAS ACERTADO, "
	DC.B "EL QUE ESTA DETRAS DEL SCROLL ES EL PROGRAMADOR DE ESTA"
	DC.B " INGENIOSA INTRO !!!!!!!                  baBUENO,YA SE "
	DC.B "QUE EL SCROLL ES UN POCO DIFICIL DE LEER AL PRINCIPIO,PERO SEGURO QUE TE"
	DC.B " ACOSTUMBRAS PRONTO                        ADEMAS PASARA VARIAS VECES                 a"
	DC.B "bBUENO,ESTA INTRO FUE CREADA EN EL MES DE OCTUBRE DE "
	DC.B "1989 PARA EL DISFRUTE Y GOCE DE LOS BUENOS CATADORES"
	DC.B " INTROS Y DEMOS."
	DC.B "          baSIENTO MUCHO EL NO HABER INCLUIDO NINGUN SONIDO DIGITALIZADO A LA INTRO"
	DC.B "           aPERO LA VERDAD ES QUE NO ME QUEDABA MUCHA MEMORIA POR AHI..."
	DC.B "             aPARA LA REALIZACION DE LA INTRO HE UTILIZADO DE TODO,"
	DC.B "DESDE EL YA CLASICO DEVPAC II HASTA MI ULTIMO ENGENDRO,EL  - ESTRUJATOR -"
	DC.B "  PROGRAMA QUE COMO YA SABRAS TE PERMITE COMPRIMIR PROGRAMAS Y DESCOMPRIMIRLOS"
	DC.B " A LA VEZ QUE EJECUTAS EL PROGRAMA.SI NO LO TIENES,ME LO PUEDES PEDIR,ES DOMINIO"
	DC.B " PUBLICO !!!!!                   ab EN EL APARTADO DE GRAFICOS,HE UTILIZADO PRINCIPALMENTE"
	DC.B " EL ART STUDIO, APARTE DEL OBLIGATORIO USO DEL DIGITALIZADOR PARA MI CARETO    "
	DC.B " LA PANTALLA EN UN PRINCIPIO ERA EN BLANCO Y NEGRO,PERO LO COLOREE A MANO     - UNA PALIZA !!!!-"
	DC.B "      PERO BUENO,CREO QUE HA QUEDADO POR LO MENOS DECENTILLO               "
	DC.B "        bANTES DE SEGUIR CON LOS TIPICOS SALUDOS,DECIR QUE REALMENTE LOS - THE UNION - "
	DC.B " SE HAN PASADO UN PELO CON SU DISCO DE INTROS.LA VERDAD ES QUE ES LO MEJOR QUE HE VISTO Y OIDO EN UN"
	DC.B " ST NUNCA,PERO ADEMAS CON DIFERENCIA. CREO QUE UNOS PROGRAMADORES ALEMANES HAN HECHO ALGO PARECIDO "
	DC.B " QUE SEGUN DICEN ES MUCHISIMO MEJOR  - SOY ESCEPTICO !! -             "
	DC.B "YA NO SE QUE MAS ESCRIBIR,ASI QUE VOY A EMPEZAR A SA"
	DC.B "LUDAR A LOS DE SIEMPRE...           aA LOS MFP-CREW -CREO"
	DC.B " QUE ENSEGUIDA SACARAN SU NUEVA INTRO  ...AUNQUE PUEDE"
	DC.B " QUE POR SEPARADO...-          A ATLANTIC SOFTWARE - GRACIAS POR LOS SAMPLINGS"
	DC.B "            A PIN,A JON -SALUDOS DESDE"
	DC.B " LOGRO@O,COLEGA,TE PROMETI UNA DEDICATORIA Y AQUI LA TIENES"
	DC.B "-          A THE UNION CREW POR SU FANTASTICA DEMO,SINO LA TIENES,BUSCALA RIGHT NOW!!"
	DC.B "     Y A TODOS LOS QUE HACEN ESTUPIDECES COMO ESTA EN SUS ORDENADORES....           "
	DC.B " abSI QUIEREIS CONTACTAR CONMIGO,AQUI TENEIS UN BBS DONDE"
	DC.B " ME PODEIS ENCONTRAR           ba CYBERZONE BBS          a"
	DC.B " TELF:941-20 11 42       24 HORAS TODOS LOS DIAS         "
	DC.B "       aMI DIRECCION ES:          DIEGO PARRILLA SANTAMARIA             "
	DC.B " C/MARQUES DE MURRIETA 18,6-D               26005 - LOGRO@O             TELF:941 -228814         "
	DC.B "                 HASTA OTRA !!!!             a"
	DC.B 96

	EVEN
TABLA	DC.L $00000,$210C,$4218,$6324,$8430,$A53C,$C648,$E754
	DC.L $10860,$1296C,$14A78,$16B84,$18C90,$1AD9C,$1CEA8,$1EFB4

PSG	DC.L $0000000F,$000100FF,$000200FF,$000300FF,$000400FF,$000500FF
	DC.L $00060000,$0007003F,$00080000,$00090000,$000A0000,$FFFFFFFF

LETCOL	DC.W $773,$772,$770,$760,$750,$740,$730,$720,$710,$700,$600,$500,$400
	DC.W $300,$200,$100,$000,$000,$100,$200,$300,$400,$500,$600,$700
	DC.W $710,$720,$730,$740,$750,$760,$770,$772,$773,$777

DATFON	DC.W $000,$001,$002,$003,$004,$005,$006,$007
	DC.W $017,$027,$037,$047,$057,$067,$077,$277,$377,$377,$477
	DC.W $277,$077,$067,$057,$047,$037,$027,$017
	DC.W $007,$006,$005,$004,$003,$002,$001,$000

DETRAS	DC.W $500,$400,$300,$200,$020,$030,$040,$050,$040,$030,$020
	DC.W $002,$003,$004,$005,$004,$003,$002,$222,$333,$444,$555
	DC.W $444,$333,$222,$200,$300,$400,$500,$FFF



LISTA	

	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	
	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,7,7,6,6,5,5,4,4,3,3,2,2,1,1,0,0

	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15
	DC.W 14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6
	DC.W 5,5,4,4,3,3,2,2,1,1
	DC.W 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10
	DC.W 11,11,12,12,13,13,14,14,15,15

	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0
	DC.W 0,0,1,1,2,3,4,5,5,7,8,10,12,15
	DC.W 15,12,10,8,7,5,5,4,3,2,1,1,0,0

	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

	DC.W 0,0,0,0,0,0,0,0,0,0,0,0
	DC.W 1,1,1,1,1,1,1,1,1,1,1,1
	DC.W 2,2,2,2,2,2,2,2,2,2,2,2
	DC.W 3,3,3,3,3,3,3,3,3,3,3,3
	DC.W 4,4,4,4,4,4,4,4,4,4,4,4
	DC.W 5,5,5,5,5,5,5,5,5,5,5,5
	DC.W 6,6,6,6,6,6,6,6,6,6,6,6
	DC.W 7,7,7,7,7,7,7,7,7,7,7,7
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 9,9,9,9,9,9,9,9,9,9,9,9
	DC.W 10,10,10,10,10,10,10,10,10,10,10,10
	DC.W 11,11,11,11,11,11,11,11,11,11,11,11
	DC.W 12,12,12,12,12,12,12,12,12,12,12,12
 	DC.W 13,13,13,13,13,13,13,13,13,13,13,13
	DC.W 14,14,14,14,14,14,14,14,14,14,14,14
	DC.W 15,15,15,15,15,15,15,15,15,15,15,15

	DC.W 14,14,14,14,14,14,14,14,14,14,14,14
	DC.W 13,13,13,13,13,13,13,13,13,13,13,13
	DC.W 12,12,12,12,12,12,12,12,12,12,12,12
 	DC.W 11,11,11,11,11,11,11,11,11,11,11,11
	DC.W 10,10,10,10,10,10,10,10,10,10,10,10
	DC.W 9,9,9,9,9,9,9,9,9,9,9,9
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8

	DC.W 8,8,9,9,10,11,11,12,12,13,13,14,14,14,15,15,15,15,15,15
	DC.W 15,15,15,15,15,15,14,14,14,13,13,12,12,11,11,10,10,9,8
	DC.W 8,7,6,6,5,5,4,3,3,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	DC.W 1,2,2,2,3,4,4,5,5,6,7,7

	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	DC.W 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8

	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8,10,10,11,12,13,14,14,15,15
	DC.W 15,15,14,14,13,12,11,10,10,8,7,5,3,0
	DC.W 0,3,5,7,8


FINAL	DC.W 0

STADAT	
	DC.B 20,1,13,2,42,3,55,4
	DC.B 54,1,23,2,0,3,32,4
	DC.B 100,1,88,2,28,3,7,4
	DC.B 66,1,3,2,107,3,120,4
	DC.B 98,1,22,2,47,3,43,4

DIRBOT	
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30
	DC.B 0,30,0,30,0,30,0,30,0,30,0,30,0,30,0,30

	 
STATIR	DS.L $60
BUFTIR1	DS.L 100
BUFSAV	DS.L $10

GRAF
PANTA	EQU GRAF+19976	
DIRCAN	EQU GRAF+3776
DIRCANR	EQU GRAF+4424
LOADPAN	EQU GRAF+7160